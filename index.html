<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>問答遊戲</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: auto;
      padding: 20px;
      background-size: cover;
      background-position: center;
      transition: background-image 0.5s ease-in-out;
    }
    .question {
      margin-bottom: 20px;
      display: none;
    }
    .active {
      display: block;
      animation: bounceIn 1s;
    }
    .options button {
      margin: 5px 0;
      display: block;
    }
    #start-btn, #next-btn, #submit-btn {
      margin-top: 20px;
    }
    @keyframes bounceIn {
      0% {transform: scale(0.9); opacity: 0;}
      60% {transform: scale(1.05); opacity: 1;}
      100% {transform: scale(1);}
    }
  </style>
</head>
<body>
  <h2>緊急應變訓練問答</h2>
  <div id="quiz">
    <div class="question active" id="q0">
      <label>1. 請輸入員編：</label><br/>
      <input type="text" id="empId" required><br/><br/>
      <label>請輸入姓名：</label><br/>
      <input type="text" id="empName" required><br/>
    </div>

    <div class="question" id="q1">
      <label>2. 您曾經遇過最緊急情況嗎？若有，是在賣場哪個區：</label><br/>
      <textarea id="emergencyExperience" rows="4" cols="50"></textarea>
    </div>

    <!-- 建議在這裡依序加入 q2 到 q21 的題目 -->

    <button id="next-btn" onclick="nextQuestion()">下一題</button>
  </div>

  <script>
    const questions = document.querySelectorAll('.question');
    const totalQuestions = questions.length;

    const backgrounds = [
      "Q1.webp", "Q2.webp", "Q3.webp", "Q4.webp", "Q5.webp",
      "Q6.webp", "Q7.webp", "Q8.webp", "Q9.webp", "Q10.webp",
      "Q11.jfif", "Q12.webp", "Q13.webp", "Q14.webp", "Q15.jfif",
      "Q16.webp", "Q17.webp", "Q18.jfif", "Q19.webp", "Q20.webp",
      "Q21.webp"
    ];

    let current = 0;

    function nextQuestion() {
      if (current < totalQuestions - 1) {
        // 移除當前題目的 active 類別
        questions[current].classList.remove('active');

        // 切換到下一題
        current++;
        const nextQ = questions[current];

        // 移除再加回動畫（可重新播放動畫）
        nextQ.classList.remove('active'); // 確保重新渲染
        void nextQ.offsetWidth; // 觸發 reflow
        nextQ.classList.add('active');

        // 設定背景圖（跳過 q0）
        if (current > 0) {
          const bgIndex = current - 1;
          document.body.style.backgroundImage = `url('${backgrounds[bgIndex]}')`;
        } else {
          document.body.style.backgroundImage = '';
        }
      }
    }

    // 預設員編頁不顯示背景圖
    document.body.style.backgroundImage = '';
  </script>
</body>
</html>
